document.addEventListener("DOMContentLoaded", function () {

	// loader
	setTimeout(function () {
		document.querySelector('body').classList.remove('loaded');
	}, 400);

	/* components */

	//prevent drag img and a
	const imagesAndLinks = document.querySelectorAll('img, a');
	if (imagesAndLinks) {
    imagesAndLinks.forEach(function (item, i, arr) {
			item.addEventListener('dragstart', function (e) {
				e.preventDefault();
			})
    });
  }

	
	const handlerResize = function () {
		let viewport_wid = viewport().width;
		let viewport_height = viewport().height;

		// if (viewport_wid <= 991) {
			
		// }
	}

	window.addEventListener('load', handlerResize);
	window.addEventListener('resize', handlerResize);


	/* header fixed on scroll */

	window.onscroll = function() {
		fixHeader()
	};

	// Get the header
	var header = document.querySelector(".js-header");

	// Get the offset position of the navbar
	var headerHeight = header.clientHeight;

	console.log( headerHeight );

	// Add the sticky class to the header when you reach its scroll position. Remove "sticky" when you leave the scroll position

	function fixHeader() {
		if (window.pageYOffset > headerHeight) {
			header.classList.add("fixed");
		} else if( window.pageYOffset == 0 ) {
			header.classList.remove("fixed");
		}
	}

	/* scroll on click menu */

	const links = document.getElementsByTagName("a");
        for (const link of links) {
            link.addEventListener("click", clickHandler);
          }
        
        function clickHandler(e) {
            if (this.hash !== "") {
          e.preventDefault();
          const href = this.getAttribute("href");
          const offsetTop = document.querySelector(href).offsetTop-90;
          scroll({
            top: offsetTop,
            behavior: "smooth"
          });
        }
	}
	
	let burger = document.querySelector('.js-menu-mobile');
	let sideMenu = document.querySelector('.js-side');
	let sideLinks = document.querySelectorAll('.js-side-menu-link');
	let body = document.querySelector('body');

	burger.addEventListener('click', function() {
		this.classList.toggle('active');
		sideMenu.classList.toggle('active');
		body.classList.toggle('disable');
	});

	for( let i = 0; i < sideLinks.length; i++){
		sideLinks[i].addEventListener('click', function() {
			sideMenu.classList.remove('active');
			body.classList.remove('disable');
			burger.classList.remove('active');
		});
	}


});

/* viewport width */
function viewport() {
	let e = window,
		a = 'inner';
	if (!('innerWidth' in window)) {
		a = 'client';
		e = document.documentElement || document.body;
	}
	return { width: e[a + 'Width'], height: e[a + 'Height'] }
};
/* viewport width */

